#!/bin/bash
set -e

# Networking {{{
echo ":: [i] :: /etc/resolv.conf"
sudo tee /etc/resolv.conf > /dev/null <<'EOF'
nameserver 1.1.1.1
nameserver 8.8.8.8
EOF

echo ":: [i] :: NetworkManager: dns.conf"
sudo mkdir -p /etc/NetworkManager/conf.d
sudo tee /etc/NetworkManager/conf.d/dns.conf > /dev/null <<'EOF'
[main]
dns=none
systemd-resolved=false
EOF

echo ":: [i] :: NetworkManager: Restart"
sudo systemctl restart NetworkManager
# }}}

# Install {{{
sudo apt update

sudo apt install -y \
    amass \
    golang \
    enum4linux-ng \
    impacket-scripts \
    ipmitool \
    netexec \
    odat \
    seclists \
    zaproxy
# }}}

# Config {{{
# Burp Suite
curl -i https://raw.githubusercontent.com/marcellbarsony/dotfiles/refs/heads/main/_archived/burpsuite/settings-project.json -o settings-project.json
curl -i https://raw.githubusercontent.com/marcellbarsony/dotfiles/refs/heads/main/_archived/burpsuite/settings-user.json -o settings-user.json

# ZAP
curl -i https://raw.githubusercontent.com/marcellbarsony/dotfiles/refs/heads/main/_archived/ZAP/config.xml -o config.xml
# }}}
